{"ast":null,"code":"var _jsxFileName = \"/home/jeremy/Job/Briqueterie/monRepo/Labriqueterie-test_technique/client/src/components/SignIn/signIn.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport img from \"../../images/graphic1.svg\";\n\nclass SignInPage extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onChange = event => {\n      this.props.user[event.target.name] = event.target.value;\n    };\n\n    this.onSubmit = event => {\n      const jsonBody = {\n        'username': this.props.user.username,\n        'password': this.props.user.password\n      };\n      console.log(JSON.stringify(jsonBody));\n      fetch(process.env.REACT_APP_API_URL + 'users/authenticate', {\n        method: 'POST',\n        headers: {\n          'Content-type': 'application/json'\n        },\n        mode: 'cors',\n        body: JSON.stringify(jsonBody)\n      }).then(res => {\n        //const propsCopy = this.props\n        console.log('we are here');\n\n        if (res.ok) {\n          res.json().then(jsonParsed => {\n            console.log(jsonParsed);\n            console.log('token is' + jsonParsed.token);\n            this.props.storeUpdatedUser(jsonParsed);\n            this.props.history.push('/home');\n          });\n        } else {\n          console.log('error: ' + res);\n        }\n      }).then(error => {\n        console.error(error);\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"website-logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"logo logo-area\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"logo\",\n      className: \"logo-size\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"background-sign-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"image-groupe-signin\",\n      src: img,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-holder\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-items\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Make your life easier with Workinspot\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Regroups all your things to do in efficient and optimized todolists\"), React.createElement(\"div\", {\n      className: \"page-links\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"signin\",\n      className: \"active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Se connecter\"), React.createElement(\"a\", {\n      href: \"signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"S'inscrire\")), React.createElement(\"input\", {\n      onChange: this.onChange,\n      id: \"login_username\",\n      className: \"form-control\",\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"Username\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      onChange: this.onChange,\n      id: \"login_password\",\n      className: \"form-control\",\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"password\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"submit\",\n      onClick: this.onSubmit,\n      className: \"ibtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Se connecter\")))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    storeUpdatedUser: user => dispatch({\n      type: 'STORE_USER',\n      value: user\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignInPage);","map":{"version":3,"sources":["/home/jeremy/Job/Briqueterie/monRepo/Labriqueterie-test_technique/client/src/components/SignIn/signIn.js"],"names":["React","Component","connect","SignInPage","onChange","event","props","user","target","name","value","onSubmit","jsonBody","username","password","console","log","JSON","stringify","fetch","process","env","REACT_APP_API_URL","method","headers","mode","body","then","res","ok","json","jsonParsed","token","storeUpdatedUser","history","push","error","render","img","mapStateToProps","state","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport { connect } from 'react-redux'\n\nimport img from \"../../images/graphic1.svg\"\n\nclass SignInPage extends Component {\n  onChange = (event) => {\n    this.props.user[event.target.name] = event.target.value\n  }\n  onSubmit = (event) => {\n    const jsonBody = {\n      'username': this.props.user.username,\n      'password': this.props.user.password\n    }\n    console.log(JSON.stringify(jsonBody))\n    fetch(process.env.REACT_APP_API_URL + 'users/authenticate', {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      mode: 'cors',\n      body: JSON.stringify(jsonBody)\n    })\n    .then(res => {\n      //const propsCopy = this.props\n      console.log('we are here')\n      if (res.ok) {\n        res.json()\n        .then(jsonParsed => {\n          console.log(jsonParsed)\n          console.log('token is' + jsonParsed.token)\n          this.props.storeUpdatedUser(jsonParsed)\n          this.props.history.push('/home')\n        })\n      } else {\n        console.log('error: ' + res)\n      }\n    })\n    .then(error => {\n      console.error(error)\n    })\n  }\n  render() {\n    return (\n    <div className=\"container-fluid\">\n        <div className=\"website-logo\">\n          <div className=\"logo logo-area\">\n              <img alt=\"logo\" className=\"logo-size\"/>\n          </div>\n        </div>\n        <div className=\"background-sign-page\"></div>\n        <div className=\"row\">\n            <img className=\"image-groupe-signin\" src={img} alt=\"\"/>\n            <div className=\"form-holder\">\n                <div className=\"form-content\">\n                    <div className=\"form-items\">\n                        <h3>Make your life easier with Workinspot</h3>\n                        <p>Regroups all your things to do in efficient and optimized todolists</p>\n                        <div className=\"page-links\">\n                            <a href=\"signin\" className=\"active\">Se connecter</a><a href=\"signup\">S'inscrire</a>\n                        </div>\n                        {//<form action=\"#\" onSubmit={this.onSubmit} className=\"form_connexion\">\n                        }\n                            <input onChange={this.onChange} id=\"login_username\" className=\"form-control\" type=\"text\" name=\"username\" placeholder=\"Username\" required/>\n                            <input onChange={this.onChange} id=\"login_password\" className=\"form-control\" type=\"password\" name=\"password\" placeholder=\"password\" required/>\n                            <div className=\"form-button\">\n                                <button id=\"submit\" onClick={this.onSubmit} className=\"ibtn\">Se connecter</button>\n                            </div>\n                          {//</form>\n                          }\n\n                    </div>\n                </div>\n            </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user\n  }\n}\n\nconst mapDispatchToProps= (dispatch) => {\n  return {\n    storeUpdatedUser: (user) => dispatch({type: 'STORE_USER', value: user})\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignInPage)\n"]},"metadata":{},"sourceType":"module"}